---
title: 'ðŸ” Overview'
description: 'Architecture and design of the SimpleTool Server'
---

# ðŸ—ï¸ SimpleTool Server Architecture

SimpleTool Server is a lightweight, asynchronous FastAPI server at the core of the SimpleTool project. It provides SSE, REST, and OpenAPI interfaces for dynamically invoking MCP tools in isolated threads.

## âœ¨ Key Features

- ðŸ³ **Docker Container** â€“ Pre-built Debian 13 image with FastAPI/Python 3.13.
- âš¡ **MCP Tool Support** â€“ Launch any MCP tool via `uvx` or `npx`.
- ðŸ”„ **Dynamic Tool Loading** â€“ Whitelist/blacklist filtering fetched from MCP, enabling runtime endpoint control.
- ðŸŒ **Multi-channel Access** â€“ SSE, Swagger UI (REST), and `tools/openapi.json` (OpenAPI, OpenWebUI compatible).
- ðŸ³ **Isolation** â€“ Each tool runs in its own thread, minimizing impact on the main server.
- ðŸ—„ï¸ **JSON Configuration** â€“ Simple editing, no database required.
- ðŸ§‘â€ðŸ’» **Custom MCP Server** â€“ Connect an external MCP server via ENV settings.
- ðŸ›¡ï¸ **Bearer Admin Hack** â€“ Quick admin authorization via Bearer token (ideal for testing).
- ðŸ“ **FastAPI + Pydantic** â€“ Fully typed for readability and safety.
- âœ… **PyTest** â€“ Spins up a real server to test endpoints without mocking.

## Project Architecture

```
src/server/
â”œâ”€â”€ main.py             # Entry point, router registration, event handlers
â”œâ”€â”€ config.py           # Base application paths and settings
â”œâ”€â”€ routers/            # Endpoint definitions: user, admin, prompts, mcp_sse, tools
â”œâ”€â”€ services/           # Logic for initializing and managing MCP Server instances
â”œâ”€â”€ middleware/         # CORS, logging, and error handling setup
â”œâ”€â”€ auth/               # Dependency and security modules (Bearer token)
â”œâ”€â”€ logger.py           # Central logger using Python's logging module
â””â”€â”€ data/               # Configuration files and user session data
```

### Startup Flow

1. **Load environment** using `dotenv`.
2. Initialize `ConfigService` and `McpServerService`.
3. Register routers: REST, SSE, and dynamic tools.
4. Start periodic cleanup of idle private servers.
5. Handle SIGINT/SIGTERM signals for graceful shutdown.

## Getting Started

1. Clone the repository and build the Docker image:

   ```bash
   docker build -t simpletool-server .
   ```

2. Run the container:

   ```bash
   docker run \
     -e CONFIG_STORAGE_TYPE=files \
     -e BEARER_ADMIN_HACK=true \
     -p 8000:8000 \
     simpletool-server
   ```

3. Open the documentation:

   - SSE: `http://localhost:8000/sse`
   - REST: `http://localhost:8000/docs`
   - OpenAPI: `http://localhost:8000/tools/openapi.json`

---

> **Demo:** This overview can be expanded with usage examples and architecture diagrams for the final documentation.
